<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PWA ì•„ì´ì½˜ ìƒì„±ê¸°</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
        }
        h1 {
            text-align: center;
            margin-bottom: 30px;
        }
        .preview-section {
            text-align: center;
            margin: 30px 0;
        }
        canvas {
            border: 2px solid white;
            border-radius: 20px;
            margin: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        .controls {
            background: rgba(255, 255, 255, 0.15);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
        }
        label {
            display: block;
            margin: 15px 0 5px;
            font-weight: bold;
        }
        input, select {
            width: 100%;
            padding: 10px;
            border-radius: 8px;
            border: none;
            font-size: 16px;
            box-sizing: border-box;
        }
        button {
            width: 100%;
            padding: 15px;
            margin: 10px 0;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s;
        }
        button:hover {
            transform: translateY(-2px);
        }
        .download-btn {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }
        .generate-btn {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }
        .info {
            background: rgba(255, 255, 255, 0.2);
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¨ PWA ì•„ì´ì½˜ ìƒì„±ê¸°</h1>
        
        <div class="info">
            â„¹ï¸ ì´ ë„êµ¬ë¡œ ê°„ë‹¨í•œ í…ìŠ¤íŠ¸ ê¸°ë°˜ PWA ì•„ì´ì½˜ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            <br>ë” ì „ë¬¸ì ì¸ ë””ìì¸ì€ Canvaë‚˜ Figmaë¥¼ ì‚¬ìš©í•˜ì„¸ìš”!
        </div>

        <div class="controls">
            <label for="text">í…ìŠ¤íŠ¸</label>
            <input type="text" id="text" value="SNS" maxlength="3">

            <label for="fontSize">í°íŠ¸ í¬ê¸°</label>
            <input type="range" id="fontSize" min="80" max="300" value="180">

            <label for="bgColor1">ë°°ê²½ ê·¸ë¼ë””ì–¸íŠ¸ ì‹œì‘</label>
            <input type="color" id="bgColor1" value="#667eea">

            <label for="bgColor2">ë°°ê²½ ê·¸ë¼ë””ì–¸íŠ¸ ë</label>
            <input type="color" id="bgColor2" value="#764ba2">

            <label for="textColor">í…ìŠ¤íŠ¸ ìƒ‰ìƒ</label>
            <input type="color" id="textColor" value="#ffffff">

            <button class="generate-btn" onclick="generateIcons()">ğŸ¨ ì•„ì´ì½˜ ìƒì„±</button>
        </div>

        <div class="preview-section">
            <h3>ë¯¸ë¦¬ë³´ê¸°</h3>
            <div>
                <canvas id="canvas512" width="512" height="512"></canvas>
                <canvas id="canvas192" width="192" height="192"></canvas>
            </div>
            <button class="download-btn" onclick="downloadIcon(512)">â¬‡ï¸ 512x512 ë‹¤ìš´ë¡œë“œ</button>
            <button class="download-btn" onclick="downloadIcon(192)">â¬‡ï¸ 192x192 ë‹¤ìš´ë¡œë“œ</button>
            <button class="download-btn" onclick="downloadBoth()">â¬‡ï¸ ëª¨ë‘ ë‹¤ìš´ë¡œë“œ</button>
        </div>

        <div class="info">
            <strong>ì‚¬ìš© ë°©ë²•:</strong>
            <ol style="margin: 10px 0; padding-left: 20px;">
                <li>í…ìŠ¤íŠ¸ì™€ ìƒ‰ìƒì„ ì„¤ì •í•©ë‹ˆë‹¤</li>
                <li>"ì•„ì´ì½˜ ìƒì„±" ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤</li>
                <li>ë¯¸ë¦¬ë³´ê¸°ë¥¼ í™•ì¸í•©ë‹ˆë‹¤</li>
                <li>"ëª¨ë‘ ë‹¤ìš´ë¡œë“œ" ë²„íŠ¼ìœ¼ë¡œ ì €ì¥í•©ë‹ˆë‹¤</li>
                <li>ë‹¤ìš´ë¡œë“œí•œ íŒŒì¼ì„ <code>public/</code> í´ë”ì— ë³µì‚¬í•©ë‹ˆë‹¤</li>
            </ol>
        </div>
    </div>

    <script>
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ìë™ ìƒì„±
        window.addEventListener('load', generateIcons);

        // ì…ë ¥ê°’ ë³€ê²½ ì‹œ ìë™ ì¬ìƒì„±
        document.getElementById('text').addEventListener('input', generateIcons);
        document.getElementById('fontSize').addEventListener('input', generateIcons);
        document.getElementById('bgColor1').addEventListener('input', generateIcons);
        document.getElementById('bgColor2').addEventListener('input', generateIcons);
        document.getElementById('textColor').addEventListener('input', generateIcons);

        function generateIcons() {
            generateIcon(512);
            generateIcon(192);
        }

        function generateIcon(size) {
            const canvas = document.getElementById(`canvas${size}`);
            const ctx = canvas.getContext('2d');
            
            // ë°°ê²½ ê·¸ë¼ë””ì–¸íŠ¸
            const bgColor1 = document.getElementById('bgColor1').value;
            const bgColor2 = document.getElementById('bgColor2').value;
            const gradient = ctx.createLinearGradient(0, 0, size, size);
            gradient.addColorStop(0, bgColor1);
            gradient.addColorStop(1, bgColor2);
            
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, size, size);
            
            // ë‘¥ê·¼ ëª¨ì„œë¦¬ (ì„ íƒì‚¬í•­)
            ctx.save();
            ctx.beginPath();
            const radius = size * 0.1;
            ctx.roundRect(0, 0, size, size, radius);
            ctx.clip();
            ctx.fillRect(0, 0, size, size);
            ctx.restore();
            
            // í…ìŠ¤íŠ¸
            const text = document.getElementById('text').value || 'SNS';
            const fontSize = parseInt(document.getElementById('fontSize').value);
            const scaledFontSize = Math.floor(fontSize * size / 512);
            ctx.font = `bold ${scaledFontSize}px Arial, sans-serif`;
            ctx.fillStyle = document.getElementById('textColor').value;
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            
            // í…ìŠ¤íŠ¸ ê·¸ë¦¼ì
            ctx.shadowColor = 'rgba(0, 0, 0, 0.3)';
            ctx.shadowBlur = size * 0.02;
            ctx.shadowOffsetX = size * 0.005;
            ctx.shadowOffsetY = size * 0.005;
            
            ctx.fillText(text, size / 2, size / 2);
        }

        function downloadIcon(size) {
            const canvas = document.getElementById(`canvas${size}`);
            const link = document.createElement('a');
            link.download = `icon-${size}x${size}.png`;
            link.href = canvas.toDataURL('image/png');
            link.click();
        }

        function downloadBoth() {
            downloadIcon(512);
            setTimeout(() => downloadIcon(192), 500);
        }

        // Canvasì— roundRect ì§€ì› ì¶”ê°€ (êµ¬í˜• ë¸Œë¼ìš°ì €ìš©)
        if (!CanvasRenderingContext2D.prototype.roundRect) {
            CanvasRenderingContext2D.prototype.roundRect = function(x, y, width, height, radius) {
                if (width < 2 * radius) radius = width / 2;
                if (height < 2 * radius) radius = height / 2;
                this.beginPath();
                this.moveTo(x + radius, y);
                this.arcTo(x + width, y, x + width, y + height, radius);
                this.arcTo(x + width, y + height, x, y + height, radius);
                this.arcTo(x, y + height, x, y, radius);
                this.arcTo(x, y, x + width, y, radius);
                this.closePath();
                return this;
            };
        }
    </script>
</body>
</html>
